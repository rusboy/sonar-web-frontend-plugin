
    <!-- Note: No pull requests accepted for this file. See README.md in the root directory for details. -->

<h1 id="disallow-lexical-declarations-in-casedefault-clauses-no-case-declarations">Disallow lexical declarations in case/default clauses (no-case-declarations)</h1>

<p>This rule disallows lexical declarations (<code class="highlighter-rouge">let</code>, <code class="highlighter-rouge">const</code>, <code class="highlighter-rouge">function</code> and <code class="highlighter-rouge">class</code>)
in <code class="highlighter-rouge">case</code>/<code class="highlighter-rouge">default</code> clauses. The reason is that the lexical declaration is visible
in the entire switch block but it only gets initialized when it is assigned, which
will only happen if the case where it is defined is reached.</p>

<p>To ensure that the lexical declaration only applies to the current case clause
wrap your clauses in blocks.</p>

<h2 id="rule-details">Rule Details<a style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; padding-left: 0.375em;" class="anchorjs-link " href="#rule-details" aria-label="Anchor link for: rule details" data-anchorjs-icon=""></a></h2>

<p>This rule aims to prevent access to uninitialized lexical bindings as well as accessing hoisted functions across case clauses.</p>

<p class="incorrect icon">Examples of <strong>incorrect</strong> code for this rule:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cm">/*eslint no-case-declarations: "error"*/</span><br/><span class="cm">/*eslint-env es6*/</span><br/><br/><span class="k">switch</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span><br/>    <span class="k">case</span> <span class="mi">1</span><span class="err">:</span><br/>        <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><br/>        <span class="k">break</span><span class="p">;</span><br/>    <span class="k">case</span> <span class="mi">2</span><span class="err">:</span><br/>        <span class="kr">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span><br/>        <span class="k">break</span><span class="p">;</span><br/>    <span class="k">case</span> <span class="mi">3</span><span class="err">:</span><br/>        <span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{}</span><br/>        <span class="k">break</span><span class="p">;</span><br/>    <span class="nl">default</span><span class="p">:</span><br/>        <span class="kr">class</span> <span class="nx">C</span> <span class="p">{}</span><br/><span class="p">}</span><br/></code></pre>
</div>

<p class="correct icon">Examples of <strong>correct</strong> code for this rule:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cm">/*eslint no-case-declarations: "error"*/</span><br/><span class="cm">/*eslint-env es6*/</span><br/><br/><span class="k">switch</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span><br/>    <span class="k">case</span> <span class="mi">1</span><span class="err">:</span> <span class="p">{</span><br/>        <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><br/>        <span class="k">break</span><span class="p">;</span><br/>    <span class="p">}</span><br/>    <span class="k">case</span> <span class="mi">2</span><span class="err">:</span> <span class="p">{</span><br/>        <span class="kr">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span><br/>        <span class="k">break</span><span class="p">;</span><br/>    <span class="p">}</span><br/>    <span class="k">case</span> <span class="mi">3</span><span class="err">:</span> <span class="p">{</span><br/>        <span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{}</span><br/>        <span class="k">break</span><span class="p">;</span><br/>    <span class="p">}</span><br/>    <span class="nl">default</span><span class="p">:</span> <span class="p">{</span><br/>        <span class="kr">class</span> <span class="nx">C</span> <span class="p">{}</span><br/>    <span class="p">}</span><br/><span class="p">}</span><br/></code></pre>
</div>

<h2 id="when-not-to-use-it">When Not To Use It<a style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; padding-left: 0.375em;" class="anchorjs-link " href="#when-not-to-use-it" aria-label="Anchor link for: when not to use it" data-anchorjs-icon=""></a></h2>

<p>If you depend on fall through behavior and want access to bindings introduced in the case block.</p>

<h2 id="related-rules">Related Rules<a style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; padding-left: 0.375em;" class="anchorjs-link " href="#related-rules" aria-label="Anchor link for: related rules" data-anchorjs-icon=""></a></h2>

<ul>
  <li><a href="no-fallthrough">no-fallthrough</a></li>
</ul>

<h2 id="version">Version<a style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; padding-left: 0.375em;" class="anchorjs-link " href="#version" aria-label="Anchor link for: version" data-anchorjs-icon=""></a></h2>

<p>This rule was introduced in ESLint 1.9.0.</p>

<h2 id="resources">Resources<a style="font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; padding-left: 0.375em;" class="anchorjs-link " href="#resources" aria-label="Anchor link for: resources" data-anchorjs-icon=""></a></h2>

<ul>
  <li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-case-declarations.js">Rule source</a></li>
  <li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-case-declarations.md">Documentation source</a></li>
</ul>

  